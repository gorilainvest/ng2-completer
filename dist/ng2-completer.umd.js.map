{"version":3,"file":"ng2-completer.umd.js","sources":["globals.js","services/completer-data-factory.js","directives/ctr-completer.js","services/completer-base-data.js","services/local-data.js","services/remote-data.js","services/completer-service.js","components/completer-cmp.js","components/completer-list-item-cmp.js","directives/ctr-dropdown.js","directives/ctr-input.js","directives/ctr-list.js","directives/ctr-row.js","ng2-completer.module.js"],"sourcesContent":["export var MAX_CHARS = 524288; // the default max length per the html maxlength attribute\r\n// the default max length per the html maxlength attribute\r\nexport var MIN_SEARCH_LENGTH = 3;\r\nexport var PAUSE = 10;\r\nexport var TEXT_SEARCHING = \"Searching...\";\r\nexport var TEXT_NO_RESULTS = \"No results found\";\r\nexport var CLEAR_TIMEOUT = 50;\r\nexport function isNil(value) {\r\n    return typeof value === \"undefined\" || value === null;\r\n}\r\n//# sourceMappingURL=globals.js.map","import { Http } from \"@angular/http\";\r\nimport { LocalData } from \"./local-data\";\r\nimport { RemoteData } from \"./remote-data\";\r\nexport function localDataFactory() {\r\n    return function () {\r\n        return new LocalData();\r\n    };\r\n}\r\nexport function remoteDataFactory(http) {\r\n    return function () {\r\n        return new RemoteData(http);\r\n    };\r\n}\r\nexport var LocalDataFactoryProvider = { provide: LocalData, useFactory: localDataFactory };\r\nexport var RemoteDataFactoryProvider = { provide: RemoteData, useFactory: remoteDataFactory, deps: [Http] };\r\n//# sourceMappingURL=completer-data-factory.js.map","import { Directive, EventEmitter, Output } from \"@angular/core\";\r\nvar CtrCompleter = (function () {\r\n    function CtrCompleter() {\r\n        this.selected = new EventEmitter();\r\n        this.highlighted = new EventEmitter();\r\n        this.opened = new EventEmitter();\r\n        this._hasHighlighted = false;\r\n        this._hasSelected = false;\r\n        this._cancelBlur = false;\r\n        this._isOpen = false;\r\n    }\r\n    CtrCompleter.prototype.registerList = function (list) {\r\n        this.list = list;\r\n    };\r\n    CtrCompleter.prototype.registerDropdown = function (dropdown) {\r\n        this.dropdown = dropdown;\r\n    };\r\n    CtrCompleter.prototype.onHighlighted = function (item) {\r\n        this.highlighted.emit(item);\r\n        this._hasHighlighted = !!item;\r\n    };\r\n    CtrCompleter.prototype.onSelected = function (item, clearList) {\r\n        if (clearList === void 0) { clearList = true; }\r\n        this.selected.emit(item);\r\n        if (item) {\r\n            this._hasSelected = true;\r\n        }\r\n        if (clearList) {\r\n            this.clear();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.search = function (term) {\r\n        if (this._hasSelected) {\r\n            this.selected.emit(null);\r\n            this._hasSelected = false;\r\n        }\r\n        if (this.list) {\r\n            this.list.search(term);\r\n        }\r\n    };\r\n    CtrCompleter.prototype.clear = function () {\r\n        this._hasHighlighted = false;\r\n        this.isOpen = false;\r\n        if (this.dropdown) {\r\n            this.dropdown.clear();\r\n        }\r\n        if (this.list) {\r\n            this.list.clear();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.selectCurrent = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.selectCurrent();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.nextRow = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.nextRow();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.prevRow = function () {\r\n        if (this.dropdown) {\r\n            this.dropdown.prevRow();\r\n        }\r\n    };\r\n    CtrCompleter.prototype.hasHighlighted = function () {\r\n        return this._hasHighlighted;\r\n    };\r\n    CtrCompleter.prototype.cancelBlur = function (cancel) {\r\n        this._cancelBlur = cancel;\r\n    };\r\n    CtrCompleter.prototype.isCancelBlur = function () {\r\n        return this._cancelBlur;\r\n    };\r\n    CtrCompleter.prototype.open = function () {\r\n        if (!this._isOpen) {\r\n            this.isOpen = true;\r\n            this.list.open();\r\n        }\r\n    };\r\n    Object.defineProperty(CtrCompleter.prototype, \"isOpen\", {\r\n        get: function () {\r\n            return this._isOpen;\r\n        },\r\n        set: function (open) {\r\n            this._isOpen = open;\r\n            this.opened.emit(this._isOpen);\r\n            if (this.list) {\r\n                this.list.isOpen(open);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrCompleter.prototype, \"autoHighlightIndex\", {\r\n        get: function () {\r\n            return this._autoHighlightIndex;\r\n        },\r\n        set: function (index) {\r\n            this._autoHighlightIndex = index;\r\n            if (this.dropdown) {\r\n                this.dropdown.highlightRow(this._autoHighlightIndex);\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrCompleter.prototype, \"hasSelected\", {\r\n        get: function () {\r\n            return this._hasSelected;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    return CtrCompleter;\r\n}());\r\nexport { CtrCompleter };\r\nCtrCompleter.decorators = [\r\n    { type: Directive, args: [{\r\n                selector: \"[ctrCompleter]\",\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nCtrCompleter.ctorParameters = function () { return []; };\r\nCtrCompleter.propDecorators = {\r\n    'selected': [{ type: Output },],\r\n    'highlighted': [{ type: Output },],\r\n    'opened': [{ type: Output },],\r\n};\r\n//# sourceMappingURL=ctr-completer.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Subject } from \"rxjs/Subject\";\r\nimport { isNil } from \"../globals\";\r\nvar CompleterBaseData = (function (_super) {\r\n    __extends(CompleterBaseData, _super);\r\n    function CompleterBaseData() {\r\n        return _super.call(this) || this;\r\n    }\r\n    CompleterBaseData.prototype.cancel = function () { };\r\n    CompleterBaseData.prototype.searchFields = function (searchFields) {\r\n        this._searchFields = searchFields;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.titleField = function (titleField) {\r\n        this._titleField = titleField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.descriptionField = function (descriptionField) {\r\n        this._descriptionField = descriptionField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.imageField = function (imageField) {\r\n        this._imageField = imageField;\r\n        return this;\r\n    };\r\n    CompleterBaseData.prototype.convertToItem = function (data) {\r\n        var image = null;\r\n        var formattedText;\r\n        var formattedDesc = null;\r\n        if (this._titleField) {\r\n            formattedText = this.extractTitle(data);\r\n        }\r\n        else {\r\n            formattedText = data;\r\n        }\r\n        if (this._descriptionField) {\r\n            formattedDesc = this.extractValue(data, this._descriptionField);\r\n        }\r\n        if (this._imageField) {\r\n            image = this.extractValue(data, this._imageField);\r\n        }\r\n        if (isNil(formattedText)) {\r\n            return null;\r\n        }\r\n        return {\r\n            title: formattedText,\r\n            description: formattedDesc,\r\n            image: image,\r\n            originalObject: data\r\n        };\r\n    };\r\n    CompleterBaseData.prototype.extractMatches = function (data, term) {\r\n        var _this = this;\r\n        var matches = [];\r\n        var searchFields = this._searchFields ? this._searchFields.split(\",\") : null;\r\n        if (this._searchFields !== null && this._searchFields !== undefined && term != \"\") {\r\n            matches = data.filter(function (item) {\r\n                var values = searchFields ? searchFields.map(function (searchField) { return _this.extractValue(item, searchField); }).filter(function (value) { return !!value; }) : [item];\r\n                return values.some(function (value) { return value.toString().toLowerCase().indexOf(term.toString().toLowerCase()) >= 0; });\r\n            });\r\n        }\r\n        else {\r\n            matches = data;\r\n        }\r\n        return matches;\r\n    };\r\n    CompleterBaseData.prototype.extractTitle = function (item) {\r\n        var _this = this;\r\n        // split title fields and run extractValue for each and join with ' '\r\n        return this._titleField.split(\",\")\r\n            .map(function (field) {\r\n            return _this.extractValue(item, field);\r\n        })\r\n            .reduce(function (acc, titlePart) { return acc ? acc + \" \" + titlePart : titlePart; });\r\n    };\r\n    CompleterBaseData.prototype.extractValue = function (obj, key) {\r\n        var keys;\r\n        var result;\r\n        if (key) {\r\n            keys = key.split(\".\");\r\n            result = obj;\r\n            for (var i = 0; i < keys.length; i++) {\r\n                if (result) {\r\n                    result = result[keys[i]];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            result = obj;\r\n        }\r\n        return result;\r\n    };\r\n    CompleterBaseData.prototype.processResults = function (matches) {\r\n        var i;\r\n        var results = [];\r\n        if (matches && matches.length > 0) {\r\n            for (i = 0; i < matches.length; i++) {\r\n                var item = this.convertToItem(matches[i]);\r\n                if (item) {\r\n                    results.push(item);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    };\r\n    return CompleterBaseData;\r\n}(Subject));\r\nexport { CompleterBaseData };\r\n//# sourceMappingURL=completer-base-data.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Injectable } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nvar LocalData = (function (_super) {\r\n    __extends(LocalData, _super);\r\n    function LocalData() {\r\n        return _super.call(this) || this;\r\n    }\r\n    LocalData.prototype.data = function (data) {\r\n        var _this = this;\r\n        if (data instanceof Observable) {\r\n            data.subscribe(function (res) {\r\n                _this._data = res;\r\n                if (_this.savedTerm) {\r\n                    _this.search(_this.savedTerm);\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            this._data = data;\r\n        }\r\n        return this;\r\n    };\r\n    LocalData.prototype.search = function (term) {\r\n        if (!this._data) {\r\n            this.savedTerm = term;\r\n        }\r\n        else {\r\n            this.savedTerm = null;\r\n            var matches = this.extractMatches(this._data, term);\r\n            this.next(this.processResults(matches));\r\n        }\r\n    };\r\n    LocalData.prototype.convertToItem = function (data) {\r\n        return _super.prototype.convertToItem.call(this, data);\r\n    };\r\n    return LocalData;\r\n}(CompleterBaseData));\r\nexport { LocalData };\r\nLocalData.decorators = [\r\n    { type: Injectable },\r\n];\r\n/** @nocollapse */\r\nLocalData.ctorParameters = function () { return []; };\r\n//# sourceMappingURL=local-data.js.map","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Headers, RequestOptions } from \"@angular/http\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport \"rxjs/add/operator/map\";\r\nimport \"rxjs/add/operator/catch\";\r\nimport \"rxjs/add/observable/of\";\r\nimport { CompleterBaseData } from \"./completer-base-data\";\r\nvar RemoteData = (function (_super) {\r\n    __extends(RemoteData, _super);\r\n    function RemoteData(http) {\r\n        var _this = _super.call(this) || this;\r\n        _this.http = http;\r\n        _this._urlFormater = null;\r\n        _this._dataField = null;\r\n        return _this;\r\n    }\r\n    RemoteData.prototype.remoteUrl = function (remoteUrl) {\r\n        this._remoteUrl = remoteUrl;\r\n        return this;\r\n    };\r\n    RemoteData.prototype.urlFormater = function (urlFormater) {\r\n        this._urlFormater = urlFormater;\r\n    };\r\n    RemoteData.prototype.dataField = function (dataField) {\r\n        this._dataField = dataField;\r\n    };\r\n    /**\r\n     * @deprecated Please use the requestOptions to pass headers with the search request\r\n     */\r\n    RemoteData.prototype.headers = function (headers) {\r\n        this._headers = headers;\r\n    };\r\n    RemoteData.prototype.requestOptions = function (requestOptions) {\r\n        this._requestOptions = requestOptions;\r\n    };\r\n    RemoteData.prototype.search = function (term) {\r\n        var _this = this;\r\n        this.cancel();\r\n        // let params = {};\r\n        var url = \"\";\r\n        if (this._urlFormater) {\r\n            url = this._urlFormater(term);\r\n        }\r\n        else {\r\n            url = this._remoteUrl + encodeURIComponent(term);\r\n        }\r\n        /*\r\n         * If requestOptions are provided, they will override anything set in headers.\r\n         *\r\n         * If no requestOptions are provided, a new RequestOptions object will be instantiated,\r\n         * and either the provided headers or a new Headers() object will be sent.\r\n         */\r\n        if (!this._requestOptions) {\r\n            this._requestOptions = new RequestOptions();\r\n            this._requestOptions.headers = this._headers || new Headers();\r\n        }\r\n        this.remoteSearch = this.http.get(url, this._requestOptions)\r\n            .map(function (res) { return res.json(); })\r\n            .map(function (data) {\r\n            var matches = _this.extractValue(data, _this._dataField);\r\n            return _this.extractMatches(matches, term);\r\n        })\r\n            .map(function (matches) {\r\n            var results = _this.processResults(matches);\r\n            _this.next(results);\r\n            return results;\r\n        })\r\n            .catch(function (err) {\r\n            _this.error(err);\r\n            return Observable.of(null);\r\n        })\r\n            .subscribe();\r\n    };\r\n    RemoteData.prototype.cancel = function () {\r\n        if (this.remoteSearch) {\r\n            this.remoteSearch.unsubscribe();\r\n        }\r\n    };\r\n    RemoteData.prototype.convertToItem = function (data) {\r\n        return _super.prototype.convertToItem.call(this, data);\r\n    };\r\n    return RemoteData;\r\n}(CompleterBaseData));\r\nexport { RemoteData };\r\n//# sourceMappingURL=remote-data.js.map","import { Injectable, Inject } from \"@angular/core\";\r\nimport { LocalData } from \"./local-data\";\r\nimport { RemoteData } from \"./remote-data\";\r\nvar CompleterService = (function () {\r\n    function CompleterService(localDataFactory, // Using any instead of () => LocalData because on AoT errors\r\n        remoteDataFactory // Using any instead of () => LocalData because on AoT errors\r\n    ) {\r\n        this.localDataFactory = localDataFactory;\r\n        this.remoteDataFactory = remoteDataFactory; // Using any instead of () => LocalData because on AoT errors\r\n    }\r\n    CompleterService.prototype.local = function (data, searchFields, titleField) {\r\n        if (searchFields === void 0) { searchFields = \"\"; }\r\n        if (titleField === void 0) { titleField = \"\"; }\r\n        var localData = this.localDataFactory();\r\n        return localData\r\n            .data(data)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    };\r\n    CompleterService.prototype.remote = function (url, searchFields, titleField) {\r\n        if (searchFields === void 0) { searchFields = \"\"; }\r\n        if (titleField === void 0) { titleField = \"\"; }\r\n        var remoteData = this.remoteDataFactory();\r\n        return remoteData\r\n            .remoteUrl(url)\r\n            .searchFields(searchFields)\r\n            .titleField(titleField);\r\n    };\r\n    return CompleterService;\r\n}());\r\nexport { CompleterService };\r\nCompleterService.decorators = [\r\n    { type: Injectable },\r\n];\r\n/** @nocollapse */\r\nCompleterService.ctorParameters = function () { return [\r\n    { type: undefined, decorators: [{ type: Inject, args: [LocalData,] },] },\r\n    { type: undefined, decorators: [{ type: Inject, args: [RemoteData,] },] },\r\n]; };\r\n//# sourceMappingURL=completer-service.js.map","\"use strict\";\r\nimport { ChangeDetectorRef, Component, Input, Output, EventEmitter, ViewChild, forwardRef } from \"@angular/core\";\r\nimport { FormControl, NG_VALUE_ACCESSOR } from \"@angular/forms\";\r\nimport { CtrCompleter } from \"../directives/ctr-completer\";\r\nimport { CompleterService } from \"../services/completer-service\";\r\nimport { MAX_CHARS, MIN_SEARCH_LENGTH, PAUSE, TEXT_SEARCHING, TEXT_NO_RESULTS } from \"../globals\";\r\nimport \"rxjs/add/operator/catch\";\r\nvar noop = function () { };\r\nvar COMPLETER_CONTROL_VALUE_ACCESSOR = {\r\n    provide: NG_VALUE_ACCESSOR,\r\n    useExisting: forwardRef(function () { return CompleterCmp; }),\r\n    multi: true\r\n};\r\nvar CompleterCmp = (function () {\r\n    function CompleterCmp(completerService, cdr) {\r\n        this.completerService = completerService;\r\n        this.cdr = cdr;\r\n        this.inputName = \"\";\r\n        this.inputId = \"\";\r\n        this.pause = PAUSE;\r\n        this.minSearchLength = MIN_SEARCH_LENGTH;\r\n        this.maxChars = MAX_CHARS;\r\n        this.overrideSuggested = false;\r\n        this.clearSelected = false;\r\n        this.clearUnselected = false;\r\n        this.fillHighlighted = true;\r\n        this.placeholder = \"\";\r\n        this.autoMatch = false;\r\n        this.disableInput = false;\r\n        this.autofocus = false;\r\n        this.openOnFocus = false;\r\n        this.autoHighlight = false;\r\n        this.selected = new EventEmitter();\r\n        this.highlighted = new EventEmitter();\r\n        this.blur = new EventEmitter();\r\n        this.focusEvent = new EventEmitter();\r\n        this.opened = new EventEmitter();\r\n        this.keyup = new EventEmitter();\r\n        this.keydown = new EventEmitter();\r\n        this.searchStr = \"\";\r\n        this.control = new FormControl(\"\");\r\n        this.displaySearching = true;\r\n        this.displayNoResults = true;\r\n        this._onTouchedCallback = noop;\r\n        this._onChangeCallback = noop;\r\n        this._focus = false;\r\n        this._open = false;\r\n        this._textNoResults = TEXT_NO_RESULTS;\r\n        this._textSearching = TEXT_SEARCHING;\r\n    }\r\n    Object.defineProperty(CompleterCmp.prototype, \"value\", {\r\n        get: function () { return this.searchStr; },\r\n        set: function (v) {\r\n            if (v !== this.searchStr) {\r\n                this.searchStr = v;\r\n            }\r\n            // Propagate the change in any case\r\n            this._onChangeCallback(v);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ;\r\n    CompleterCmp.prototype.ngAfterViewInit = function () {\r\n        if (this.autofocus) {\r\n            this._focus = true;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.ngAfterViewChecked = function () {\r\n        var _this = this;\r\n        if (this._focus) {\r\n            setTimeout(function () {\r\n                _this.ctrInput.nativeElement.focus();\r\n                _this._focus = false;\r\n            }, 0);\r\n        }\r\n    };\r\n    CompleterCmp.prototype.onTouched = function () {\r\n        this._onTouchedCallback();\r\n    };\r\n    CompleterCmp.prototype.writeValue = function (value) {\r\n        this.searchStr = value;\r\n    };\r\n    CompleterCmp.prototype.registerOnChange = function (fn) {\r\n        this._onChangeCallback = fn;\r\n    };\r\n    CompleterCmp.prototype.registerOnTouched = function (fn) {\r\n        this._onTouchedCallback = fn;\r\n    };\r\n    Object.defineProperty(CompleterCmp.prototype, \"datasource\", {\r\n        set: function (source) {\r\n            if (source) {\r\n                if (source instanceof Array) {\r\n                    this.dataService = this.completerService.local(source);\r\n                }\r\n                else if (typeof (source) === \"string\") {\r\n                    this.dataService = this.completerService.remote(source);\r\n                }\r\n                else {\r\n                    this.dataService = source;\r\n                }\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompleterCmp.prototype, \"textNoResults\", {\r\n        set: function (text) {\r\n            if (this._textNoResults != text) {\r\n                this._textNoResults = text;\r\n                this.displayNoResults = !!this._textNoResults && this._textNoResults !== \"false\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CompleterCmp.prototype, \"textSearching\", {\r\n        set: function (text) {\r\n            if (this._textSearching != text) {\r\n                this._textSearching = text;\r\n                this.displaySearching = !!this._textSearching && this._textSearching !== \"false\";\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CompleterCmp.prototype.ngOnInit = function () {\r\n        var _this = this;\r\n        this.completer.selected.subscribe(function (item) {\r\n            _this.selected.emit(item);\r\n        });\r\n        this.completer.highlighted.subscribe(function (item) {\r\n            _this.highlighted.emit(item);\r\n        });\r\n        this.completer.opened.subscribe(function (isOpen) {\r\n            _this._open = isOpen;\r\n            _this.opened.emit(isOpen);\r\n        });\r\n    };\r\n    CompleterCmp.prototype.onBlur = function () {\r\n        this.blur.emit();\r\n        this.onTouched();\r\n        this.cdr.detectChanges();\r\n    };\r\n    CompleterCmp.prototype.onFocus = function () {\r\n        this.focusEvent.emit();\r\n        this.onTouched();\r\n    };\r\n    CompleterCmp.prototype.onKeyup = function (event) {\r\n        this.keyup.emit(event);\r\n    };\r\n    CompleterCmp.prototype.onKeydown = function (event) {\r\n        this.keydown.emit(event);\r\n    };\r\n    CompleterCmp.prototype.onChange = function (value) {\r\n        this.value = value;\r\n    };\r\n    CompleterCmp.prototype.open = function () {\r\n        this.completer.open();\r\n    };\r\n    CompleterCmp.prototype.close = function () {\r\n        this.completer.clear();\r\n    };\r\n    CompleterCmp.prototype.focus = function () {\r\n        if (this.ctrInput) {\r\n            this.ctrInput.nativeElement.focus();\r\n        }\r\n        else {\r\n            this._focus = true;\r\n        }\r\n    };\r\n    CompleterCmp.prototype.isOpen = function () {\r\n        return this._open;\r\n    };\r\n    return CompleterCmp;\r\n}());\r\nexport { CompleterCmp };\r\nCompleterCmp.decorators = [\r\n    { type: Component, args: [{\r\n                selector: \"ng2-completer\",\r\n                template: \"\\n        <div class=\\\"completer-holder\\\" ctrCompleter>\\n            <input #ctrInput [attr.id]=\\\"inputId.length > 0 ? inputId : null\\\" type=\\\"search\\\" class=\\\"completer-input\\\" ctrInput [ngClass]=\\\"inputClass\\\" \\n                [(ngModel)]=\\\"searchStr\\\" (ngModelChange)=\\\"onChange($event)\\\" [attr.name]=\\\"inputName\\\" [placeholder]=\\\"placeholder\\\"\\n                [attr.maxlength]=\\\"maxChars\\\" [tabindex]=\\\"fieldTabindex\\\" [disabled]=\\\"disableInput\\\" \\n                [clearSelected]=\\\"clearSelected\\\" [clearUnselected]=\\\"clearUnselected\\\"\\n                [overrideSuggested]=\\\"overrideSuggested\\\" [openOnFocus]=\\\"openOnFocus\\\" [fillHighlighted]=\\\"fillHighlighted\\\" \\n                (blur)=\\\"onBlur()\\\" (focus)=\\\"onFocus()\\\" (keyup)=\\\"onKeyup($event)\\\" (keydown)=\\\"onKeydown($event)\\\"\\n                autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" />\\n\\n            <div class=\\\"completer-dropdown-holder\\\"\\n                *ctrList=\\\"dataService;\\n                    minSearchLength: minSearchLength;\\n                    pause: pause;\\n                    autoMatch: autoMatch;\\n                    initialValue: initialValue;\\n                    autoHighlight: autoHighlight;\\n                    displaySearching: displaySearching;\\n                    let items = results;\\n                    let searchActive = searching;\\n                    let isInitialized = searchInitialized;\\n                    let isOpen = isOpen;\\\">\\n                <div class=\\\"completer-dropdown\\\" ctrDropdown *ngIf=\\\"isInitialized && isOpen && ((items.length > 0 || displayNoResults) || (searchActive && displaySearching))\\\">\\n                    <div *ngIf=\\\"searchActive && displaySearching\\\" class=\\\"completer-searching\\\">{{_textSearching}}</div>\\n                    <div *ngIf=\\\"!searchActive && (!items || items.length === 0)\\\" class=\\\"completer-no-results\\\">{{_textNoResults}}</div>\\n                    <div class=\\\"completer-row-wrapper\\\" *ngFor=\\\"let item of items; let rowIndex=index\\\">\\n                        <div class=\\\"completer-row\\\" [ctrRow]=\\\"rowIndex\\\" [dataItem]=\\\"item\\\">\\n                            <div *ngIf=\\\"item.image || item.image === ''\\\" class=\\\"completer-image-holder\\\">\\n                                <img *ngIf=\\\"item.image != ''\\\" src=\\\"{{item.image}}\\\" class=\\\"completer-image\\\" />\\n                                <div *ngIf=\\\"item.image === ''\\\" class=\\\"completer-image-default\\\"></div>\\n                            </div>\\n                            <div class=\\\"completer-item-text\\\" [ngClass]=\\\"{'completer-item-text-image': item.image || item.image === '' }\\\">\\n                                <completer-list-item class=\\\"completer-title\\\" [text]=\\\"item.title\\\" [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'title'\\\"></completer-list-item>\\n                                <completer-list-item *ngIf=\\\"item.description && item.description != ''\\\" class=\\\"completer-description\\\" [text]=\\\"item.description\\\"\\n                                    [matchClass]=\\\"matchClass\\\" [searchStr]=\\\"searchStr\\\" [type]=\\\"'description'\\\">\\n                                </completer-list-item>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    \",\r\n                styles: [\"\\n    .completer-dropdown {\\n        border-color: #ececec;\\n        border-width: 1px;\\n        border-style: solid;\\n        border-radius: 2px;\\n        width: 250px;\\n        padding: 6px;\\n        cursor: pointer;\\n        z-index: 9999;\\n        position: absolute;\\n        margin-top: -6px;\\n        background-color: #ffffff;\\n    }\\n\\n    .completer-row {\\n        padding: 5px;\\n        color: #000000;\\n        margin-bottom: 4px;\\n        clear: both;\\n        display: inline-block;\\n        width: 103%;\\n    }\\n\\n    .completer-selected-row {\\n        background-color: lightblue;\\n        color: #ffffff;\\n    }\\n\\n    .completer-description {\\n        font-size: 14px;\\n    }\\n\\n    .completer-image-default {\\n        width: 16px; \\n        height: 16px;\\n        background-image: url(\\\"demo/res/img/default.png\\\");\\n    }\\n\\n    .completer-image-holder {\\n        float: left;\\n        width: 10%;\\n    }\\n    .completer-item-text-image {\\n        float: right;\\n        width: 90%;\\n    }\\n    \"],\r\n                providers: [COMPLETER_CONTROL_VALUE_ACCESSOR]\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nCompleterCmp.ctorParameters = function () { return [\r\n    { type: CompleterService, },\r\n    { type: ChangeDetectorRef, },\r\n]; };\r\nCompleterCmp.propDecorators = {\r\n    'dataService': [{ type: Input },],\r\n    'inputName': [{ type: Input },],\r\n    'inputId': [{ type: Input },],\r\n    'pause': [{ type: Input },],\r\n    'minSearchLength': [{ type: Input },],\r\n    'maxChars': [{ type: Input },],\r\n    'overrideSuggested': [{ type: Input },],\r\n    'clearSelected': [{ type: Input },],\r\n    'clearUnselected': [{ type: Input },],\r\n    'fillHighlighted': [{ type: Input },],\r\n    'placeholder': [{ type: Input },],\r\n    'matchClass': [{ type: Input },],\r\n    'fieldTabindex': [{ type: Input },],\r\n    'autoMatch': [{ type: Input },],\r\n    'disableInput': [{ type: Input },],\r\n    'inputClass': [{ type: Input },],\r\n    'autofocus': [{ type: Input },],\r\n    'openOnFocus': [{ type: Input },],\r\n    'initialValue': [{ type: Input },],\r\n    'autoHighlight': [{ type: Input },],\r\n    'selected': [{ type: Output },],\r\n    'highlighted': [{ type: Output },],\r\n    'blur': [{ type: Output },],\r\n    'focusEvent': [{ type: Output, args: [\"focus\",] },],\r\n    'opened': [{ type: Output },],\r\n    'keyup': [{ type: Output },],\r\n    'keydown': [{ type: Output },],\r\n    'completer': [{ type: ViewChild, args: [CtrCompleter,] },],\r\n    'ctrInput': [{ type: ViewChild, args: [\"ctrInput\",] },],\r\n    'datasource': [{ type: Input },],\r\n    'textNoResults': [{ type: Input },],\r\n    'textSearching': [{ type: Input },],\r\n};\r\n//# sourceMappingURL=completer-cmp.js.map","\"use strict\";\r\nimport { Component, Input } from \"@angular/core\";\r\nvar CompleterListItemCmp = (function () {\r\n    function CompleterListItemCmp() {\r\n        this.parts = [];\r\n    }\r\n    CompleterListItemCmp.prototype.ngOnInit = function () {\r\n        if (!this.searchStr) {\r\n            this.parts.push({ isMatch: false, text: this.text });\r\n            return;\r\n        }\r\n        var matchStr = this.text.toLowerCase();\r\n        var matchPos = matchStr.indexOf(this.searchStr.toLowerCase());\r\n        var startIndex = 0;\r\n        while (matchPos >= 0) {\r\n            var matchText = this.text.slice(matchPos, matchPos + this.searchStr.length);\r\n            if (matchPos === 0) {\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length;\r\n            }\r\n            else if (matchPos > 0) {\r\n                var matchPart = this.text.slice(startIndex, matchPos);\r\n                this.parts.push({ isMatch: false, text: matchPart });\r\n                this.parts.push({ isMatch: true, text: matchText });\r\n                startIndex += this.searchStr.length + matchPart.length;\r\n            }\r\n            matchPos = matchStr.indexOf(this.searchStr.toLowerCase(), startIndex);\r\n        }\r\n        if (startIndex < this.text.length) {\r\n            this.parts.push({ isMatch: false, text: this.text.slice(startIndex, this.text.length) });\r\n        }\r\n    };\r\n    return CompleterListItemCmp;\r\n}());\r\nexport { CompleterListItemCmp };\r\nCompleterListItemCmp.decorators = [\r\n    { type: Component, args: [{\r\n                selector: \"completer-list-item\",\r\n                template: \"<span class=\\\"completer-list-item-holder\\\" [ngClass]=\\\"{'completer-title': type === 'title', 'completer-description': type === 'description'}\\\" >\\n        <span class=\\\"completer-list-item\\\" *ngFor=\\\"let part of parts\\\" [ngClass]=\\\"part.isMatch ? matchClass : null\\\">{{part.text}}</span>\\n    </span>\"\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nCompleterListItemCmp.ctorParameters = function () { return []; };\r\nCompleterListItemCmp.propDecorators = {\r\n    'text': [{ type: Input },],\r\n    'searchStr': [{ type: Input },],\r\n    'matchClass': [{ type: Input },],\r\n    'type': [{ type: Input },],\r\n};\r\n//# sourceMappingURL=completer-list-item-cmp.js.map","import { Directive, ElementRef, Host, HostListener } from \"@angular/core\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\nvar CtrRowItem = (function () {\r\n    function CtrRowItem(row, index) {\r\n        this.row = row;\r\n        this.index = index;\r\n    }\r\n    return CtrRowItem;\r\n}());\r\nexport { CtrRowItem };\r\nvar CtrDropdown = (function () {\r\n    function CtrDropdown(completer, el) {\r\n        this.completer = completer;\r\n        this.el = el;\r\n        this.rows = [];\r\n        this.completer.registerDropdown(this);\r\n    }\r\n    CtrDropdown.prototype.ngOnDestroy = function () {\r\n        this.completer.registerDropdown(null);\r\n    };\r\n    CtrDropdown.prototype.ngAfterViewInit = function () {\r\n        var _this = this;\r\n        var css = getComputedStyle(this.el.nativeElement);\r\n        var autoHighlightIndex = this.completer.autoHighlightIndex;\r\n        this.isScrollOn = !!css.maxHeight && css.overflowY === \"auto\";\r\n        if (autoHighlightIndex) {\r\n            setTimeout(function () {\r\n                _this.highlightRow(autoHighlightIndex);\r\n            }, 0);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.onMouseDown = function (event) {\r\n        var _this = this;\r\n        // Support for canceling blur on IE (issue #158)\r\n        this.completer.cancelBlur(true);\r\n        setTimeout(function () {\r\n            _this.completer.cancelBlur(false);\r\n        }, 0);\r\n    };\r\n    CtrDropdown.prototype.registerRow = function (row) {\r\n        var arrIndex = this.rows.findIndex(function (_row) { return _row.index === row.index; });\r\n        if (arrIndex >= 0) {\r\n            this.rows[arrIndex] = row;\r\n        }\r\n        else {\r\n            this.rows.push(row);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.unregisterRow = function (rowIndex) {\r\n        var arrIndex = this.rows.findIndex(function (_row) { return _row.index === rowIndex; });\r\n        this.rows.splice(arrIndex, 1);\r\n        if (this.currHighlighted && rowIndex === this.currHighlighted.index) {\r\n            this.highlightRow(null);\r\n        }\r\n    };\r\n    CtrDropdown.prototype.highlightRow = function (index) {\r\n        var highlighted = this.rows.find(function (row) { return row.index === index; });\r\n        if (isNil(index) || index < 0) {\r\n            if (this.currHighlighted) {\r\n                this.currHighlighted.row.setHighlighted(false);\r\n            }\r\n            this.currHighlighted = undefined;\r\n            this.completer.onHighlighted(null);\r\n            return;\r\n        }\r\n        if (!highlighted) {\r\n            return;\r\n        }\r\n        if (this.currHighlighted) {\r\n            this.currHighlighted.row.setHighlighted(false);\r\n        }\r\n        this.currHighlighted = highlighted;\r\n        this.currHighlighted.row.setHighlighted(true);\r\n        this.completer.onHighlighted(this.currHighlighted.row.getDataItem());\r\n        if (this.isScrollOn && this.currHighlighted) {\r\n            var rowTop = this.dropdownRowTop();\r\n            if (!rowTop) {\r\n                return;\r\n            }\r\n            if (rowTop < 0) {\r\n                this.dropdownScrollTopTo(rowTop - 1);\r\n            }\r\n            else {\r\n                var row = this.currHighlighted.row.getNativeElement();\r\n                if (this.dropdownHeight() < row.getBoundingClientRect().bottom) {\r\n                    this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(row));\r\n                    if (this.el.nativeElement.getBoundingClientRect().bottom - this.dropdownRowOffsetHeight(row) < row.getBoundingClientRect().top) {\r\n                        this.dropdownScrollTopTo(row.getBoundingClientRect().top - (this.el.nativeElement.getBoundingClientRect().top + parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10)));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    CtrDropdown.prototype.clear = function () {\r\n        this.rows = [];\r\n    };\r\n    CtrDropdown.prototype.onSelected = function (item) {\r\n        this.completer.onSelected(item);\r\n    };\r\n    CtrDropdown.prototype.selectCurrent = function () {\r\n        if (this.currHighlighted) {\r\n            this.onSelected(this.currHighlighted.row.getDataItem());\r\n        }\r\n        else if (this.rows.length > 0) {\r\n            this.onSelected(this.rows[0].row.getDataItem());\r\n        }\r\n    };\r\n    CtrDropdown.prototype.nextRow = function () {\r\n        var nextRowIndex = 0;\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index + 1;\r\n        }\r\n        this.highlightRow(nextRowIndex);\r\n    };\r\n    CtrDropdown.prototype.prevRow = function () {\r\n        var nextRowIndex = -1;\r\n        if (this.currHighlighted) {\r\n            nextRowIndex = this.currHighlighted.index - 1;\r\n        }\r\n        this.highlightRow(nextRowIndex);\r\n    };\r\n    CtrDropdown.prototype.dropdownScrollTopTo = function (offset) {\r\n        this.el.nativeElement.scrollTop = this.el.nativeElement.scrollTop + offset;\r\n    };\r\n    CtrDropdown.prototype.dropdownRowTop = function () {\r\n        if (!this.currHighlighted) {\r\n            return;\r\n        }\r\n        return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top -\r\n            (this.el.nativeElement.getBoundingClientRect().top +\r\n                parseInt(getComputedStyle(this.el.nativeElement).paddingTop, 10));\r\n    };\r\n    CtrDropdown.prototype.dropdownHeight = function () {\r\n        return this.el.nativeElement.getBoundingClientRect().top +\r\n            parseInt(getComputedStyle(this.el.nativeElement).maxHeight, 10);\r\n    };\r\n    CtrDropdown.prototype.dropdownRowOffsetHeight = function (row) {\r\n        var css = getComputedStyle(row);\r\n        return row.offsetHeight +\r\n            parseInt(css.marginTop, 10) + parseInt(css.marginBottom, 10);\r\n    };\r\n    return CtrDropdown;\r\n}());\r\nexport { CtrDropdown };\r\nCtrDropdown.decorators = [\r\n    { type: Directive, args: [{\r\n                selector: \"[ctrDropdown]\",\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nCtrDropdown.ctorParameters = function () { return [\r\n    { type: CtrCompleter, decorators: [{ type: Host },] },\r\n    { type: ElementRef, },\r\n]; };\r\nCtrDropdown.propDecorators = {\r\n    'onMouseDown': [{ type: HostListener, args: [\"mousedown\", [\"$event\"],] },],\r\n};\r\n//# sourceMappingURL=ctr-dropdown.js.map","import { Directive, ElementRef, EventEmitter, Host, HostListener, Input, Output } from \"@angular/core\";\r\nimport { NgModel } from \"@angular/forms\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { isNil } from \"../globals\";\r\n// keyboard events\r\nvar KEY_DW = 40;\r\nvar KEY_RT = 39;\r\nvar KEY_UP = 38;\r\nvar KEY_LF = 37;\r\nvar KEY_ES = 27;\r\nvar KEY_EN = 13;\r\nvar KEY_TAB = 9;\r\nvar CtrInput = (function () {\r\n    function CtrInput(completer, ngModel, el) {\r\n        var _this = this;\r\n        this.completer = completer;\r\n        this.ngModel = ngModel;\r\n        this.el = el;\r\n        this.clearSelected = false;\r\n        this.clearUnselected = false;\r\n        this.overrideSuggested = false;\r\n        this.fillHighlighted = true;\r\n        this.openOnFocus = false;\r\n        this.ngModelChange = new EventEmitter();\r\n        this._searchStr = \"\";\r\n        this._displayStr = \"\";\r\n        this.blurTimer = null;\r\n        this.completer.selected.subscribe(function (item) {\r\n            if (!item) {\r\n                return;\r\n            }\r\n            if (_this.clearSelected) {\r\n                _this.searchStr = \"\";\r\n            }\r\n            else {\r\n                _this.searchStr = item.title;\r\n            }\r\n            _this.ngModelChange.emit(_this.searchStr);\r\n        });\r\n        this.completer.highlighted.subscribe(function (item) {\r\n            if (_this.fillHighlighted) {\r\n                if (item) {\r\n                    _this._displayStr = item.title;\r\n                    _this.ngModelChange.emit(item.title);\r\n                }\r\n                else {\r\n                    _this._displayStr = _this.searchStr;\r\n                    _this.ngModelChange.emit(_this.searchStr);\r\n                }\r\n            }\r\n        });\r\n        if (this.ngModel.valueChanges) {\r\n            this.ngModel.valueChanges.subscribe(function (value) {\r\n                if (!isNil(value) && _this._displayStr !== value) {\r\n                    if (_this.searchStr !== value) {\r\n                        _this.completer.search(value);\r\n                    }\r\n                    _this.searchStr = value;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    CtrInput.prototype.keyupHandler = function (event) {\r\n        if (event.keyCode === KEY_LF || event.keyCode === KEY_RT || event.keyCode === KEY_TAB) {\r\n            // do nothing\r\n            return;\r\n        }\r\n        if (event.keyCode === KEY_UP || event.keyCode === KEY_EN) {\r\n            event.preventDefault();\r\n        }\r\n        else if (event.keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.search(this.searchStr);\r\n        }\r\n        else if (event.keyCode === KEY_ES) {\r\n            if (this.completer.isOpen) {\r\n                this.restoreSearchValue();\r\n                this.completer.clear();\r\n                event.stopPropagation();\r\n                event.preventDefault();\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.keydownHandler = function (event) {\r\n        if (event.keyCode === KEY_EN) {\r\n            if (this.completer.hasHighlighted()) {\r\n                event.preventDefault();\r\n            }\r\n            this.handleSelection();\r\n        }\r\n        else if (event.keyCode === KEY_DW) {\r\n            event.preventDefault();\r\n            this.completer.open();\r\n            this.completer.nextRow();\r\n        }\r\n        else if (event.keyCode === KEY_UP) {\r\n            event.preventDefault();\r\n            this.completer.prevRow();\r\n        }\r\n        else if (event.keyCode === KEY_TAB) {\r\n            this.handleSelection();\r\n        }\r\n        else if (event.keyCode === KEY_ES) {\r\n            // This is very specific to IE10/11 #272\r\n            // without this, IE clears the input text\r\n            event.preventDefault();\r\n            if (this.completer.isOpen) {\r\n                event.stopPropagation();\r\n            }\r\n        }\r\n        else {\r\n            if (this.searchStr) {\r\n                this.completer.open();\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.onBlur = function (event) {\r\n        var _this = this;\r\n        // Check if we need to cancel Blur for IE\r\n        if (this.completer.isCancelBlur()) {\r\n            setTimeout(function () {\r\n                // get the focus back\r\n                _this.el.nativeElement.focus();\r\n            }, 0);\r\n            return;\r\n        }\r\n        if (this.completer.isOpen) {\r\n            this.blurTimer = Observable.timer(200).subscribe(function () { return _this.doBlur(); });\r\n        }\r\n    };\r\n    CtrInput.prototype.onfocus = function () {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n        if (this.openOnFocus) {\r\n            this.completer.open();\r\n        }\r\n    };\r\n    Object.defineProperty(CtrInput.prototype, \"searchStr\", {\r\n        get: function () {\r\n            return this._searchStr;\r\n        },\r\n        set: function (term) {\r\n            this._searchStr = term;\r\n            this._displayStr = term;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrInput.prototype.handleSelection = function () {\r\n        if (this.completer.hasHighlighted()) {\r\n            this._searchStr = \"\";\r\n            this.completer.selectCurrent();\r\n        }\r\n        else if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        }\r\n        else {\r\n            this.completer.clear();\r\n        }\r\n    };\r\n    CtrInput.prototype.restoreSearchValue = function () {\r\n        if (this.fillHighlighted) {\r\n            if (this._displayStr != this.searchStr) {\r\n                this._displayStr = this.searchStr;\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n        }\r\n    };\r\n    CtrInput.prototype.doBlur = function () {\r\n        if (this.blurTimer) {\r\n            this.blurTimer.unsubscribe();\r\n            this.blurTimer = null;\r\n        }\r\n        if (this.overrideSuggested) {\r\n            this.completer.onSelected({ title: this.searchStr, originalObject: null });\r\n        }\r\n        else {\r\n            if (this.clearUnselected && !this.completer.hasSelected) {\r\n                this.searchStr = \"\";\r\n                this.ngModelChange.emit(this.searchStr);\r\n            }\r\n            else {\r\n                this.restoreSearchValue();\r\n            }\r\n        }\r\n        this.completer.clear();\r\n    };\r\n    return CtrInput;\r\n}());\r\nexport { CtrInput };\r\nCtrInput.decorators = [\r\n    { type: Directive, args: [{\r\n                selector: \"[ctrInput]\",\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nCtrInput.ctorParameters = function () { return [\r\n    { type: CtrCompleter, decorators: [{ type: Host },] },\r\n    { type: NgModel, },\r\n    { type: ElementRef, },\r\n]; };\r\nCtrInput.propDecorators = {\r\n    'clearSelected': [{ type: Input, args: [\"clearSelected\",] },],\r\n    'clearUnselected': [{ type: Input, args: [\"clearUnselected\",] },],\r\n    'overrideSuggested': [{ type: Input, args: [\"overrideSuggested\",] },],\r\n    'fillHighlighted': [{ type: Input, args: [\"fillHighlighted\",] },],\r\n    'openOnFocus': [{ type: Input, args: [\"openOnFocus\",] },],\r\n    'ngModelChange': [{ type: Output },],\r\n    'keyupHandler': [{ type: HostListener, args: [\"keyup\", [\"$event\"],] },],\r\n    'keydownHandler': [{ type: HostListener, args: [\"keydown\", [\"$event\"],] },],\r\n    'onBlur': [{ type: HostListener, args: [\"blur\", [\"$event\"],] },],\r\n    'onfocus': [{ type: HostListener, args: [\"focus\", [],] },],\r\n};\r\n//# sourceMappingURL=ctr-input.js.map","import \"rxjs/add/observable/timer\";\r\nimport { ChangeDetectorRef, Directive, Host, Input, TemplateRef, ViewContainerRef } from \"@angular/core\";\r\nimport { Observable } from \"rxjs/Observable\";\r\nimport { CtrCompleter } from \"./ctr-completer\";\r\nimport { MIN_SEARCH_LENGTH, PAUSE, CLEAR_TIMEOUT, isNil } from \"../globals\";\r\nvar CtrListContext = (function () {\r\n    function CtrListContext(results, searching, searchInitialized, isOpen) {\r\n        this.results = results;\r\n        this.searching = searching;\r\n        this.searchInitialized = searchInitialized;\r\n        this.isOpen = isOpen;\r\n    }\r\n    return CtrListContext;\r\n}());\r\nexport { CtrListContext };\r\nvar CtrList = (function () {\r\n    function CtrList(completer, templateRef, viewContainer, cd) {\r\n        this.completer = completer;\r\n        this.templateRef = templateRef;\r\n        this.viewContainer = viewContainer;\r\n        this.cd = cd;\r\n        this.ctrListMinSearchLength = MIN_SEARCH_LENGTH;\r\n        this.ctrListPause = PAUSE;\r\n        this.ctrListAutoMatch = false;\r\n        this.ctrListAutoHighlight = false;\r\n        this.ctrListDisplaySearching = true;\r\n        // private results: CompleterItem[] = [];\r\n        this.term = null;\r\n        // private searching = false;\r\n        this.searchTimer = null;\r\n        this.clearTimer = null;\r\n        this.ctx = new CtrListContext([], false, false, false);\r\n        this._initialValue = null;\r\n        this.viewRef = null;\r\n    }\r\n    CtrList.prototype.ngOnInit = function () {\r\n        this.completer.registerList(this);\r\n        this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, new CtrListContext([], false, false, false));\r\n    };\r\n    Object.defineProperty(CtrList.prototype, \"dataService\", {\r\n        set: function (newService) {\r\n            var _this = this;\r\n            this._dataService = newService;\r\n            if (this._dataService) {\r\n                this._dataService\r\n                    .catch(function (err) { return _this.handleError(err); })\r\n                    .subscribe(function (results) {\r\n                    _this.ctx.searchInitialized = true;\r\n                    _this.ctx.searching = false;\r\n                    _this.ctx.results = results;\r\n                    if (_this.ctrListAutoMatch && results.length === 1 && results[0].title && !isNil(_this.term) &&\r\n                        results[0].title.toLocaleLowerCase() === _this.term.toLocaleLowerCase()) {\r\n                        // Do automatch\r\n                        _this.completer.onSelected(results[0]);\r\n                        return;\r\n                    }\r\n                    if (_this._initialValue) {\r\n                        _this.initialValue = _this._initialValue;\r\n                        _this._initialValue = null;\r\n                    }\r\n                    _this.refreshTemplate();\r\n                    if (_this.ctrListAutoHighlight) {\r\n                        _this.completer.autoHighlightIndex = _this.getBestMatchIndex();\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrList.prototype, \"initialValue\", {\r\n        set: function (value) {\r\n            var _this = this;\r\n            if (this._dataService && typeof this._dataService.convertToItem === \"function\") {\r\n                setTimeout(function () {\r\n                    var initialItem = _this._dataService.convertToItem(value);\r\n                    if (initialItem) {\r\n                        _this.completer.onSelected(initialItem, false);\r\n                    }\r\n                });\r\n            }\r\n            else if (!this._dataService) {\r\n                this._initialValue = value;\r\n            }\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrList.prototype.search = function (term) {\r\n        var _this = this;\r\n        if (!isNil(term) && term.length >= this.ctrListMinSearchLength && this.term !== term) {\r\n            if (this.searchTimer) {\r\n                this.searchTimer.unsubscribe();\r\n                this.searchTimer = null;\r\n            }\r\n            if (!this.ctx.searching) {\r\n                if (this.ctrListDisplaySearching) {\r\n                    this.ctx.results = [];\r\n                }\r\n                this.ctx.searching = true;\r\n                this.ctx.searchInitialized = true;\r\n                this.refreshTemplate();\r\n            }\r\n            if (this.clearTimer) {\r\n                this.clearTimer.unsubscribe();\r\n            }\r\n            this.searchTimer = Observable.timer(this.ctrListPause).subscribe(function () {\r\n                _this.searchTimerComplete(term);\r\n            });\r\n        }\r\n        else if (!isNil(term) && term.length < this.ctrListMinSearchLength) {\r\n            this.clear();\r\n        }\r\n    };\r\n    CtrList.prototype.clear = function () {\r\n        var _this = this;\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n        }\r\n        this.clearTimer = Observable.timer(CLEAR_TIMEOUT).subscribe(function () {\r\n            _this._clear();\r\n        });\r\n    };\r\n    CtrList.prototype.open = function () {\r\n        if (!this.ctx.searchInitialized) {\r\n            this.search(\"\");\r\n        }\r\n        this.refreshTemplate();\r\n    };\r\n    CtrList.prototype.isOpen = function (open) {\r\n        this.ctx.isOpen = open;\r\n    };\r\n    CtrList.prototype._clear = function () {\r\n        if (this.searchTimer) {\r\n            this.searchTimer.unsubscribe();\r\n            this.searchTimer = null;\r\n        }\r\n        if (this.dataService) {\r\n            this.dataService.cancel();\r\n        }\r\n        this.viewContainer.clear();\r\n        this.viewRef = null;\r\n    };\r\n    CtrList.prototype.searchTimerComplete = function (term) {\r\n        // Begin the search\r\n        if (isNil(term) || term.length < this.ctrListMinSearchLength) {\r\n            this.ctx.searching = false;\r\n            return;\r\n        }\r\n        this.term = term;\r\n        this._dataService.search(term);\r\n    };\r\n    CtrList.prototype.handleError = function (error) {\r\n        this.ctx.searching = false;\r\n        var errMsg = \"search error\";\r\n        if (error) {\r\n            errMsg = (error.message) ? error.message :\r\n                error.status ? error.status + \" - \" + error.statusText : \"Server error\";\r\n        }\r\n        if (console && console.error) {\r\n            console.error(errMsg); // log to console\r\n        }\r\n        this.refreshTemplate();\r\n        return Observable.throw(errMsg);\r\n    };\r\n    CtrList.prototype.refreshTemplate = function () {\r\n        // create the template if it doesn't exist\r\n        if (!this.viewRef) {\r\n            this.viewRef = this.viewContainer.createEmbeddedView(this.templateRef, this.ctx);\r\n        }\r\n        else {\r\n            // refresh the template\r\n            this.viewRef.context.isOpen = this.ctx.isOpen;\r\n            this.viewRef.context.results = this.ctx.results;\r\n            this.viewRef.context.searching = this.ctx.searching;\r\n            this.viewRef.context.searchInitialized = this.ctx.searchInitialized;\r\n            this.viewRef.detectChanges();\r\n        }\r\n        this.cd.markForCheck();\r\n    };\r\n    CtrList.prototype.getBestMatchIndex = function () {\r\n        var _this = this;\r\n        if (!this.ctx.results || !this.term) {\r\n            return null;\r\n        }\r\n        // First try to find the exact term\r\n        var bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase() === _this.term.toLocaleLowerCase(); });\r\n        // If not try to find the first item that starts with the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().startsWith(_this.term.toLocaleLowerCase()); });\r\n        }\r\n        // If not try to find the first item that includes the term\r\n        if (bestMatch < 0) {\r\n            bestMatch = this.ctx.results.findIndex(function (item) { return item.title.toLowerCase().includes(_this.term.toLocaleLowerCase()); });\r\n        }\r\n        return bestMatch < 0 ? null : bestMatch;\r\n    };\r\n    return CtrList;\r\n}());\r\nexport { CtrList };\r\nCtrList.decorators = [\r\n    { type: Directive, args: [{\r\n                selector: \"[ctrList]\",\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nCtrList.ctorParameters = function () { return [\r\n    { type: CtrCompleter, decorators: [{ type: Host },] },\r\n    { type: TemplateRef, },\r\n    { type: ViewContainerRef, },\r\n    { type: ChangeDetectorRef, },\r\n]; };\r\nCtrList.propDecorators = {\r\n    'ctrListMinSearchLength': [{ type: Input },],\r\n    'ctrListPause': [{ type: Input },],\r\n    'ctrListAutoMatch': [{ type: Input },],\r\n    'ctrListAutoHighlight': [{ type: Input },],\r\n    'ctrListDisplaySearching': [{ type: Input },],\r\n    'dataService': [{ type: Input, args: [\"ctrList\",] },],\r\n    'initialValue': [{ type: Input, args: [\"ctrListInitialValue\",] },],\r\n};\r\n//# sourceMappingURL=ctr-list.js.map","import { Directive, ElementRef, Host, HostListener, Input, Renderer } from \"@angular/core\";\r\nimport { CtrDropdown, CtrRowItem } from \"./ctr-dropdown\";\r\nvar CtrRow = (function () {\r\n    function CtrRow(el, renderer, dropdown) {\r\n        this.el = el;\r\n        this.renderer = renderer;\r\n        this.dropdown = dropdown;\r\n        this.selected = false;\r\n    }\r\n    CtrRow.prototype.ngOnDestroy = function () {\r\n        if (this._rowIndex) {\r\n            this.dropdown.unregisterRow(this._rowIndex);\r\n        }\r\n    };\r\n    Object.defineProperty(CtrRow.prototype, \"ctrRow\", {\r\n        set: function (index) {\r\n            this._rowIndex = index;\r\n            this.dropdown.registerRow(new CtrRowItem(this, this._rowIndex));\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CtrRow.prototype, \"dataItem\", {\r\n        set: function (item) {\r\n            this._item = item;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    CtrRow.prototype.onClick = function (event) {\r\n        this.dropdown.onSelected(this._item);\r\n    };\r\n    CtrRow.prototype.onMouseEnter = function (event) {\r\n        this.dropdown.highlightRow(this._rowIndex);\r\n    };\r\n    CtrRow.prototype.setHighlighted = function (selected) {\r\n        this.selected = selected;\r\n        this.renderer.setElementClass(this.el.nativeElement, \"completer-selected-row\", this.selected);\r\n    };\r\n    CtrRow.prototype.getNativeElement = function () {\r\n        return this.el.nativeElement;\r\n    };\r\n    CtrRow.prototype.getDataItem = function () {\r\n        return this._item;\r\n    };\r\n    return CtrRow;\r\n}());\r\nexport { CtrRow };\r\nCtrRow.decorators = [\r\n    { type: Directive, args: [{\r\n                selector: \"[ctrRow]\",\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nCtrRow.ctorParameters = function () { return [\r\n    { type: ElementRef, },\r\n    { type: Renderer, },\r\n    { type: CtrDropdown, decorators: [{ type: Host },] },\r\n]; };\r\nCtrRow.propDecorators = {\r\n    'ctrRow': [{ type: Input },],\r\n    'dataItem': [{ type: Input },],\r\n    'onClick': [{ type: HostListener, args: [\"click\", [\"$event\"],] },],\r\n    'onMouseEnter': [{ type: HostListener, args: [\"mouseenter\", [\"$event\"],] },],\r\n};\r\n//# sourceMappingURL=ctr-row.js.map","import { NgModule } from \"@angular/core\";\r\nimport { FormsModule } from \"@angular/forms\";\r\nimport { HttpModule } from \"@angular/http\";\r\nimport { CompleterCmp } from \"./components/completer-cmp\";\r\nimport { CompleterListItemCmp } from \"./components/completer-list-item-cmp\";\r\nimport { CompleterService } from \"./services/completer-service\";\r\nimport { LocalDataFactoryProvider, RemoteDataFactoryProvider } from \"./services/completer-data-factory\";\r\nimport { CtrCompleter } from \"./directives/ctr-completer\";\r\nimport { CtrDropdown } from \"./directives/ctr-dropdown\";\r\nimport { CtrInput } from \"./directives/ctr-input\";\r\nimport { CtrList } from \"./directives/ctr-list\";\r\nimport { CtrRow } from \"./directives/ctr-row\";\r\nimport { CommonModule } from \"@angular/common\";\r\nvar Ng2CompleterModule = (function () {\r\n    function Ng2CompleterModule() {\r\n    }\r\n    return Ng2CompleterModule;\r\n}());\r\nexport { Ng2CompleterModule };\r\nNg2CompleterModule.decorators = [\r\n    { type: NgModule, args: [{\r\n                imports: [\r\n                    CommonModule,\r\n                    FormsModule,\r\n                    HttpModule\r\n                ],\r\n                declarations: [\r\n                    CompleterListItemCmp,\r\n                    CtrCompleter,\r\n                    CtrDropdown,\r\n                    CtrInput,\r\n                    CtrList,\r\n                    CtrRow,\r\n                    CompleterCmp\r\n                ],\r\n                exports: [\r\n                    CompleterCmp,\r\n                    CompleterListItemCmp,\r\n                    CtrCompleter,\r\n                    CtrDropdown,\r\n                    CtrInput,\r\n                    CtrList,\r\n                    CtrRow\r\n                ],\r\n                providers: [\r\n                    CompleterService,\r\n                    LocalDataFactoryProvider,\r\n                    RemoteDataFactoryProvider\r\n                ]\r\n            },] },\r\n];\r\n/** @nocollapse */\r\nNg2CompleterModule.ctorParameters = function () { return []; };\r\n//# sourceMappingURL=ng2-completer.module.js.map"],"names":["isNil","value","localDataFactory","LocalData","remoteDataFactory","http","RemoteData","CtrCompleter","this","selected","EventEmitter","highlighted","opened","_hasHighlighted","_hasSelected","_cancelBlur","_isOpen","prototype","registerList","list","registerDropdown","dropdown","onHighlighted","item","emit","onSelected","clearList","clear","search","term","isOpen","selectCurrent","nextRow","prevRow","hasHighlighted","cancelBlur","cancel","isCancelBlur","open","Object","defineProperty","get","set","enumerable","configurable","_autoHighlightIndex","index","highlightRow","decorators","type","Directive","args","selector","ctorParameters","propDecorators","Output","MAX_CHARS","MIN_SEARCH_LENGTH","PAUSE","TEXT_SEARCHING","TEXT_NO_RESULTS","__extends","extendStatics","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__","constructor","create","CompleterBaseData","_super","call","searchFields","_searchFields","titleField","_titleField","descriptionField","_descriptionField","imageField","_imageField","convertToItem","data","formattedText","image","formattedDesc","extractTitle","extractValue","title","description","originalObject","extractMatches","_this","split","undefined","filter","map","searchField","some","toString","toLowerCase","indexOf","field","reduce","acc","titlePart","obj","key","keys","result","i","length","processResults","matches","results","push","Subject","Observable","subscribe","res","_data","savedTerm","next","Injectable","_urlFormater","_dataField","remoteUrl","_remoteUrl","urlFormater","dataField","headers","_headers","requestOptions","_requestOptions","url","encodeURIComponent","RequestOptions","Headers","remoteSearch","json","catch","err","error","of","unsubscribe","CompleterService","local","remote","Inject","noop","COMPLETER_CONTROL_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","CompleterCmp","multi","completerService","cdr","inputName","inputId","pause","minSearchLength","maxChars","overrideSuggested","clearSelected","clearUnselected","fillHighlighted","placeholder","autoMatch","disableInput","autofocus","openOnFocus","autoHighlight","blur","focusEvent","keyup","keydown","searchStr","control","FormControl","displaySearching","displayNoResults","_onTouchedCallback","_onChangeCallback","_focus","_open","_textNoResults","_textSearching","v","ngAfterViewInit","ngAfterViewChecked","setTimeout","ctrInput","nativeElement","focus","onTouched","writeValue","registerOnChange","fn","registerOnTouched","source","dataService","text","ngOnInit","completer","onBlur","detectChanges","onFocus","onKeyup","event","onKeydown","onChange","close","Component","template","styles","providers","ChangeDetectorRef","Input","matchClass","fieldTabindex","inputClass","initialValue","ViewChild","datasource","textNoResults","textSearching","CompleterListItemCmp","parts","isMatch","matchStr","matchPos","startIndex","matchText","slice","matchPart","LocalDataFactoryProvider","useFactory","RemoteDataFactoryProvider","deps","Http","CtrRowItem","row","CtrDropdown","el","rows","ngOnDestroy","css","getComputedStyle","autoHighlightIndex","isScrollOn","maxHeight","overflowY","onMouseDown","registerRow","arrIndex","findIndex","_row","unregisterRow","rowIndex","splice","currHighlighted","find","setHighlighted","getDataItem","rowTop","dropdownRowTop","dropdownScrollTopTo","getNativeElement","dropdownHeight","getBoundingClientRect","bottom","dropdownRowOffsetHeight","top","parseInt","paddingTop","nextRowIndex","offset","scrollTop","offsetHeight","marginTop","marginBottom","Host","ElementRef","HostListener","CtrInput","ngModel","ngModelChange","_searchStr","_displayStr","blurTimer","valueChanges","keyupHandler","keyCode","preventDefault","restoreSearchValue","stopPropagation","keydownHandler","handleSelection","timer","doBlur","onfocus","hasSelected","NgModel","CtrListContext","searching","searchInitialized","CtrList","templateRef","viewContainer","cd","ctrListMinSearchLength","ctrListPause","ctrListAutoMatch","ctrListAutoHighlight","ctrListDisplaySearching","searchTimer","clearTimer","ctx","_initialValue","viewRef","createEmbeddedView","newService","_dataService","handleError","toLocaleLowerCase","refreshTemplate","getBestMatchIndex","initialItem","searchTimerComplete","_clear","errMsg","message","status","statusText","console","throw","context","markForCheck","bestMatch","startsWith","includes","TemplateRef","ViewContainerRef","CtrRow","renderer","_rowIndex","_item","onClick","onMouseEnter","setElementClass","Renderer","ctrRow","dataItem","Ng2CompleterModule","NgModule","imports","CommonModule","FormsModule","HttpModule","declarations","exports"],"mappings":"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"}